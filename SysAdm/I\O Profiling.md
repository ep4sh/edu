IOPS TABLE:
```
SSD(SLC) ----- 6000
SSD(MLC) ---- 1000
15K RPM ------ 175-200
10K RPM ------- 125-150
7.2K RPM ------ 50-75
```

Microsoft Exchange 2010 – с 5000 пользователей, каждый из которых получает 75 и отправляет 30 писем в день, потребует как минимум 3750 IOPS  
Microsoft SQL 2008 Server – с 3500 SQL транзакциями в секунду (TPS)- 28000 IOPS  
Обычный сервер приложений Windows на 10-100 пользователей — 10-40 IOPS  

```
Total Raw IOPS = Disk Speed IOPS * Number of disks  
Functional IOPS =(((Total Raw IOPS×Write %))/(RAID Penalty))+(Total Raw IOPS×Read %)  
```

**IOSTAT:**
```
-d – отображать только использование дисков;
-c – отобразить только использование CPU;
-j – отобразить имя раздела (ID | LABEL | PATH | UUID);
-k – отобразить данные в килобайтах;
-m – отобразить данные в мегабайтах;
-p – отобразить статистику по указанному блочному устройству;
-t – отобразить время выполнения теста;
-x – отобращить расширенную статистику;
```
```
-->rrqm/s обобщенное количество запросов на чтение в секунду;
-->wrqm/s обобщенное количество запросов на запись в секунду;
-->r/s количество запросов на чтение в секунду;
-->w/s количество запросов на запись в секунду;
-->rMB/s количество МБ при чтении с диска в секунду;
-->wMB/s количество МБ при записи на диск в секунду;
-->avgrq-sz средний размер (в секторах) запросов к диску;
-->avgqu-sz средний размер очереди запросов к диску;
-->await среднее время (милисекунды) на обработку запросов к диску (включает в себя время, потраченное в очереди на обработку и время на обработку запроса);
-->vr_await среднее время (милисекунды) на обработку запросов чтения к диску (включает в себя время, потраченное в очереди на обработку и время на обработку запроса);
-->w_await среднее время (милисекунды) на обработку запросов запи ик диску (включает в себя время, потраченное в очереди на обработку и время на обработку запроса);
-->svctm среднее время (милисекунды) I/O запросов (не образайте внимания на неё – будет удалена в ближайшем будущем);
-->%util % CPU, затраченный на передачу I/O запросов к диску (“пропускная способность” диска);
```





Характеристики:
```
--> Пропускная способность (bytes/s) — максимальная линейная скорость с которой устройство пишет или читает один, но очень большой файл.

--> IOPS (операций в секунду) — число запросов, отправленных на устройство. Это скорость работы с большим числом мелких файлов.

--> Время обработки (ms) — время за которое в среднем обрабатывается запрос на ввод-вывод включая ожидание в очереди, причем наиболее характерно именно ожидание, ибо оно зависит от загрузки, а не собственно размера запроса. Чем выше это время, тем «тормознутее» отзыв системы на запрос приложения, но остальные приложения в принципе не затрагиваются.

--> Загрузка (%) — оценка загруженности системы на ввод-вывод. При значениях близких к 100% система «встает», в том числе все приложения. Процессора уходят в iowait, а процессы, желающие ввода-вывода — в [Disk] Sleep
```

****************************************

Средний серверный жесткий диск 10 тысяч оборотов в секунду, подключенный по SAS к путному RAID контроллеру (с кешем на батарейке):  

пропускная способность около 300 MB/s при последовательном доступе  
выдает порядка 150 iops (в попугаях)  
при времени обработки запросов порядка  10 мс  
****************************************

Если все это живет в RAID то соответственно в зависимости от типа рейда цифры множатся или делятся на число дисков. Например: 4 диска в RAID 1+0 должны показать половину суммарных iops всех четырех дисков.  



Ну что по таким цифрам можно сказать?  

В первую очередь обратим внимание на последнюю колонку %util. Хотя бы потому, что большое значение этого параметра (90%-100%) для пользователя выглядит как «сервер висит». У нас sda загружен менее чем на 9%. Нормально. Причем в основном разделом sda7(SQL).

```
2013-01-14 11:31:14 Device: rrqm/s wrqm/s r/s w/s rkB/s wkB/s avgrq-sz avgqu-sz await svctm %util
2013-01-14 11:31:14 sda 0.00 45.40 0.00 10.50 0.00 219.20 41.75 1.69 156.43 8.30 8.72
2013-01-14 11:31:14 sda1 0.00 0.80 0.00 0.30 0.00 4.40 29.33 0.01 25.33 25.33 0.76
2013-01-14 11:31:14 sda2 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2013-01-14 11:31:14 sda3 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2013-01-14 11:31:14 sda4 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00 0.00
2013-01-14 11:31:14 sda5 0.00 1.30 0.00 1.00 0.00 9.20 18.40 0.03 27.80 8.10 0.81
2013-01-14 11:31:14 sda6 0.00 0.70 0.00 1.10 0.00 7.20 13.09 0.02 18.55 10.64 1.17
2013-01-14 11:31:14 sda7 0.00 42.60 0.00 8.10 0.00 198.40 48.99 1.63 195.89 8.15 6.60
```
