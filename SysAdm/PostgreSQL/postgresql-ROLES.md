![PostgreSQL](../../img/postgresql.png)

## Роли и аттрибуты

### Роли
 * пользователь СУБД
 * может включать в себя другие роли - быть групповой ролью
 * не всязана с пользователем ОС
 * определяется на уровне кластера

Псевдороль `public`:  
 * неявно включает в себя **ВСЕ** остальные роли

 #### Атрибуты  определяют свойства роли:
 ```
 CREATE ROLE [WITH] *аттрибут* [аттр]
 ```

 * LOGIN        подключение
 * SUPERUSER    суперпользователь
 * CREATEDB     создавать БД
 * CREATEROLE   создавать роли
 * REPLICATION  использование репликации


 #### Включение РОЛИ в группу:
 ```
 роль1: GRANT группа TO роль2;
 роль1: REVOKE группа FROM роль2;
```

 Право управления:
 ```
 *любая роль* - в самой себе
 *SUPERUSER* - любая роль
 *CREATEROLE* - любая, кроме SUPERUSER
```

 Передача управления:
```
роль1: GRANT группа TO роль2 WITH ADMIN OPTION;
роль2: GRANT группа TO роль3 WITH ADMIN OPTION;
роль2: GRANT группа TO роль4 WITH ADMIN OPTION;

роль1: REVOKE ADMIN OPTION FOR группа FROM роль2 ;
```

Владелец объекта - кто объект создавал, а  также роли включенные в роль-создатель
```
ALTER  ... OWNER TO роль;
```

Передать объекты для удаления роли:
```
REASSIGN OWNED BY alice TO bob;
DROP ROLE alice;
```
